{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/gee/bread/webDesign/WEb-DESIgn/text_animations/blockText/src/components/Copy.jsx"],"sourcesContent":["'use client'\n\nimport React, {use, useRef} from 'react'\nimport gsap from 'gsap'\nimport {ScrollTrigger} from 'gsap/ScrollTrigger'\nimport {SplitText} from 'gsap/SplitText'\nimport { useGSAP } from '@gsap/react'\nimport { create } from 'domain'\n\ngsap.registerPlugin(ScrollTrigger, SplitText)\n\n\n\nfunction Copy({\n  children,\n  animateOnScroll = true,\n  delay = 0,\n  blockColor = \"#000\",\n  stagger = 0.15,\n  duration = 0.75\n\n}) {\n\n  const containerRef = useRef(null)\n  const splitRefs = useRef([])\n  const lines = useRef([])\n  const blocks = useRef([])\n\n  useGSAP(()=> {\n    if(!containerRef.current) return;\n    \n    splitRefs.current = []\n    lines.current = []\n    blocks.current = [];\n\n\n    let elements = [];\n\n    if (containerRef.current.hasAttribute('data-copy-wrapper')) {\n      elements = Array.from(containerRef.current.children);\n    } else {\n      elements = [containerRef.current];\n    }\n\n    elements.forEach((elements)=>{\n      const split = SplitText.create(elements, {\n        type: \"lines\",\n        linesClass: \"block-line++\",\n        lineThreshold: 0.1,\n      });\n\n      splitRefs.current.push(split);\n\n      split.lines.forEach((line)=> {\n        const wrapper = document.createElement('div');\n        wrapper.className = \"block-line-wrapper\";\n        line.parentNode.insertBefore(wrapper, line);\n        wrapper.appendChild(line);\n\n        const block = document.createElement('div');\n        block.className = \"block-revealer\";\n        block.style.backgroundColor = blockColor;\n        wrapper.appendChild(block);\n\n        lines.current.push(line);\n        blocks.current.push(block);\n      });\n\n    });\n\n    gsap.set(lines.current, {opacity: 0});\n    gsap.set(blocks.current, {scaleX: 0, transformOrigin: \"left center\"});\n\n\n  const createBlockRevealAnimation = (block, line, index) => {\n    const tl = gsap.timeline({delay: delay + index * stagger });\n    tl.to(block, {scaleX: 1, duration: duration, ease: \"power4.inOut\"});\n    tl.set(line, {opacity: 1});\n    tl.set(block, {transformOrigin: \"right center\"});\n    tl.to(block, {scaleX: 0, duration: duration, ease: \"power4.inOut\"});\n\n    return tl;\n  };\n\n  if(animateOnScroll) {\n    blocks.current.forEach((block, index)=> {\n      const t1 = createBlockRevealAnimation(\n        block,\n        lines.current[index],\n        index\n      );\n      t1.pause();\n\n      ScrollTrigger.create({\n        trigger: containerRef.current,\n        start: \"top 90%\",\n        once: true,\n        onEnter: ()=> t1.play(),\n      })\n    })\n  }else {\n    blocks.current.forEach((block, index)=>{\n      createBlockRevealAnimation(\n        block,\n        lines.current[index],\n        index\n      );\n    })\n  }\n\n  return ()=> {\n    splitRefs.current.forEach((split)=> split?.revert());\n    const wrapper = containerRef.current?.querySelectorAll('.block-line-wrapper');\n    wrapper?.forEach((wrapper)=>{\n      if (wrapper.parentNode && wrapper.firstChild) {\n        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n        wrapper.remove();\n      }\n    });\n  };\n\n  },\n  {\n\n    scope: containerRef,\n    dependencies: [animateOnScroll,\n      delay,\n      blockColor,\n      stagger,\n      duration\n    ],\n  });\n\n\n  return (\n     <div ref={containerRef} data-copy-wrapper=\"true\">\n      {children}\n      </div>\n  )\n}\n\nexport default Copy"],"names":[],"mappings":"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","debugId":null}}]
}