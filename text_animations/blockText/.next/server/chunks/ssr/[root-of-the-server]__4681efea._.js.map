{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///home/gee/bread/webDesign/WEb-DESIgn/text_animations/blockText/src/components/Copy.jsx"],"sourcesContent":["'use client'\n\nimport React, {use, useRef} from 'react'\nimport gsap from 'gsap'\nimport {ScrollTrigger} from 'gsap/ScrollTrigger'\nimport {SplitText} from 'gsap/SplitText'\nimport { useGSAP } from '@gsap/react'\nimport { create } from 'domain'\n\ngsap.registerPlugin(ScrollTrigger, SplitText)\n\n\n\nfunction Copy({\n  children,\n  animateOnScroll = true,\n  delay = 0,\n  blockColor = \"#000\",\n  stagger = 0.15,\n  duration = 0.75\n\n}) {\n\n  const containerRef = useRef(null)\n  const splitRefs = useRef([])\n  const lines = useRef([])\n  const blocks = useRef([])\n\n  useGSAP(()=> {\n    if(!containerRef.current) return;\n    \n    splitRefs.current = []\n    lines.current = []\n    blocks.current = [];\n\n\n    let elements = [];\n\n    if (containerRef.current.hasAttribute('data-copy-wrapper')) {\n      elements = Array.from(containerRef.current.children);\n    } else {\n      elements = [containerRef.current];\n    }\n\n    elements.forEach((elements)=>{\n      const split = SplitText.create(elements, {\n        type: \"lines\",\n        linesClass: \"block-line++\",\n        lineThreshold: 0.1,\n      });\n\n      splitRefs.current.push(split);\n\n      split.lines.forEach((line)=> {\n        const wrapper = document.createElement('div');\n        wrapper.className = \"block-line-wrapper\";\n        line.parentNode.insertBefore(wrapper, line);\n        wrapper.appendChild(line);\n\n        const block = document.createElement('div');\n        block.className = \"block-revealer\";\n        block.style.backgroundColor = blockColor;\n        wrapper.appendChild(block);\n\n        lines.current.push(line);\n        blocks.current.push(block);\n      });\n\n    });\n\n    gsap.set(lines.current, {opacity: 0});\n    gsap.set(blocks.current, {scaleX: 0, transformOrigin: \"left center\"});\n\n\n  const createBlockRevealAnimation = (block, line, index) => {\n    const tl = gsap.timeline({delay: delay + index * stagger });\n    tl.to(block, {scaleX: 1, duration: duration, ease: \"power4.inOut\"});\n    tl.set(line, {opacity: 1});\n    tl.set(block, {transformOrigin: \"right center\"});\n    tl.to(block, {scaleX: 0, duration: duration, ease: \"power4.inOut\"});\n\n    return tl;\n  };\n\n  if(animateOnScroll) {\n    blocks.current.forEach((block, index)=> {\n      const t1 = createBlockRevealAnimation(\n        block,\n        lines.current[index],\n        index\n      );\n      t1.pause();\n\n      ScrollTrigger.create({\n        trigger: containerRef.current,\n        start: \"top 90%\",\n        once: true,\n        onEnter: ()=> t1.play(),\n      })\n    })\n  }else {\n    blocks.current.forEach((block, index)=>{\n      createBlockRevealAnimation(\n        block,\n        lines.current[index],\n        index\n      );\n    })\n  }\n\n  return ()=> {\n    splitRefs.current.forEach((split)=> split?.revert());\n    const wrapper = containerRef.current?.querySelectorAll('.block-line-wrapper');\n    wrapper?.forEach((wrapper)=>{\n      if (wrapper.parentNode && wrapper.firstChild) {\n        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n        wrapper.remove();\n      }\n    });\n  };\n\n  },\n  {\n\n    scope: containerRef,\n    dependencies: [animateOnScroll,\n      delay,\n      blockColor,\n      stagger,\n      duration\n    ],\n  });\n\n\n  return (\n     <div ref={containerRef} data-copy-wrapper=\"true\">\n      {children}\n      </div>\n  )\n}\n\nexport default Copy"],"names":[],"mappings":"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","debugId":null}}]
}